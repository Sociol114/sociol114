---
title: "Questions data can answer"
---

[[Slides]](../slides/lec1/lec1.pdf)

Data science should begin with clarity about what questions data can (and cannot) answer. As a motivating example, we will discuss questions about inequality as introduced in p. 49--53 of this paper:

> Jencks, C. (2002). [Does inequality matter?](https://www.jstor.org/stable/20027737) Daedalus, 131(1).

We will emphasize two key ideas in this paper:

* choosing a summary of a distribution
* normative and objective claims

## Choosing a summary of a distribution

The histogram below visualizes the distribution of [annual household income](https://cps.ipums.org/cps-action/variables/hhincome#description_section) across U.S. households as estimated from the 2022 [Current Population Survey](https://cps.ipums.org/cps/index.shtml). To produce this graph, we categorized households into discrete income groups that are each \$25,000 wide. The height of each bar corresponds to the number of households falling in that income group. We can see that the most common household income values are below \$100,000, but a small number of households have very high incomes that create a long upper tail at the right.

```{r, echo = F, comment = F, message = F, warning = F, fig.width = 6, fig.height = 2}
library(tidyverse)
theme_set(theme_bw())
library(haven)
library(foreach)

# Write a custom function we will use
weighted.quantile <- function(x, q, w) {
  result.df <- data.frame(x = x, w = w) %>%
    arrange(x) %>%
    mutate(cdf = cumsum(w) / sum(w)) %>%
    filter(cdf >= q) %>%
    filter(1:n() == 1)
  result <- result.df$x
  return(result)
}

# 1. LOAD DATA

# Load microdata from the Current Population Survey
# https://cps.ipums.org/
micro <- read_dta("../data_raw/cps_00062.dta") |>
  filter(year == 2022)

prepared <- micro |>
  # Remove missing household incomes
  filter(hhincome != 99999999) |>
  mutate(hhincome = case_when(hhincome < 0 ~ 0,
                              T ~ hhincome)) |>
  # Restrict to one row per household
  # instead of one row per person
  group_by(year, serial) %>%
  filter(1:n() == 1) |>
  ungroup()

summaries <- prepared |>
  summarize(median = weighted.quantile(hhincome, w = asecwth,
                                       q = .5),
            q10 = weighted.quantile(hhincome, w = asecwth,
                                    q = .1),
            q90 = weighted.quantile(hhincome, w = asecwth,
                                    q = .9),
            over_top = weighted.mean(hhincome > 500e3,
                                    w = asecwth),
            .groups = "drop")

# Big visualization of U.S. household income distribution

p <- prepared |>
  filter(hhincome < 500e3) |>
  ggplot(aes(x = hhincome, weight = asecwth)) +
  geom_histogram(binwidth = 25e3, alpha = .4) +
  scale_x_continuous(labels = scales::label_dollar(),
                     name = "Household Income") +
  scale_y_continuous(breaks = NULL,
                     name = "Density") +
  theme_classic() +
  theme(axis.text.x = element_text(angle = 30, hjust = 1),
        panel.grid.minor = element_blank())
p
#ggsave(filename = "../slides/lec1/us2022_hh_dist_big.pdf",
#       height = 3, width = 4.5)
```

We often want to take a distribution and convert it to a single-number summary. One way to summarize the distribution is by its median: the value at which 50\% of households have higher incomes and 50\% of households have lower incomes.

```{r, echo = F, comment = F, message = F, warning = F, fig.width = 6, fig.height = 2}
p +
  geom_vline(xintercept = summaries$median,
             color = "blue", size = 2) +
  annotate(geom = "text", color = "blue", size = 4,
           x = 300e3, y = 2e7,
           label = paste("Median =",scales::dollar(summaries$median)),
           fontface = "bold")
#ggsave("../slides/lec1/us2022_hh_dist_median.pdf",
#       height = 3, width = 4.5)
```

The median is a useful measure of *central tendency*: it gives a sense of the income value in the middle of the distribution. But it may not give us a good sense of *inequality*, which requires some sense of the spread of the distribution. The graph below presents an alternative summary. The 90th percentile is the household income value such that 90\% of households have lower incomes. The 10th percentile is the value such that 10\% of households have lower incomes. The 90/10 income ratio ($\frac{\text{90th percentile}}{\text{10th percentile}}$) is one measure of inequality: how many dollars does a household at the 90th percentile get for every dollar that goes to a household at the 10th percentile? We might say that inequality is high to the degree that the 90/10 income ratio is large.

```{r, echo = F, comment = F, message = F, warning = F, fig.width = 6, fig.height = 2}
p +
  geom_vline(xintercept = summaries$q90,
             color = "blue", size = 2) +
  geom_vline(xintercept = summaries$q10,
             color = "seagreen4", size = 2) +
  annotate(geom = "text", color = "blue", size = 4,
           x = 375e3, y = 2e7,
           label = paste0("90th percentile (",scales::dollar(summaries$q90),")"),
           fontface = "bold") +
  annotate(geom = "text", color = "black", size = 4,
           x = 375e3, y = 1.5e7,
           label = paste0("gets ",
                          round(summaries$q90 / summaries$q10),
                          "x as much as the")) +
  annotate(geom = "text", color = "seagreen4", size = 4,
           x = 375e3, y = 1e7,
           label = paste0("10th percentile (",scales::dollar(summaries$q10),")"),
           fontface = "bold")
#ggsave("../slides/lec1/us2022_hh_dist_9010.pdf",
#       height = 3, width = 4.5)
```

The median and the 90/10 income ratio are only two of many ways to summarize a distribution. At the end of this course, you will produce your own visualization that can have any summary you want. Before analyzing data, it is often useful to ask ourselves: what summary do we want to produce? Ideally, you will produce a summary that is informative and perhaps surprising to your readers.

## Normative and objective claims

Inequality is a topic that brings out normative commitments: beliefs about how the world should be. Many of us study inequality because of our own moral beliefs in fairness, equality, and opportunity. Inequality is also a topic full of objective facts, such as quantitative evidence describing the U.S. household income distribution. When studying inequality, it is important to distinguish between normative claims (what should be) and objective claims (what is).

### Normative claims: An illustration with manna

Normative claims are the focus of moral philosophy. Because this is a course on data science, we will mostly avoid normative claims. To illustrate the difference between the kinds of approaches useful in the two settings, we consider a story from the Hebrew scriptures as retold by [Jencks (2002)](https://www.jstor.org/stable/2002773).

In the story, the Israelites are wandering in the desert without food. God provides a form of bread (manna) that falls down from heaven every day. People do not work for their manna; it is provided freely by God. Taking this example, Jencks considers a normative question about inequality: how should the manna be distributed among the people?

![The Israelites Collecting Manna from Heaven. Austria. About 1400â€“1410. Unknown artist.
Getty Open Content Program. [getty.edu/art/collection/object/105T6R](https://www.getty.edu/art/collection/object/105T6R)](../slides/lec1/manna_small.jpeg){ width=25% }

Jencks presents a utilitarian moral argument. Suppose that (1) we want to maximize overall societal welfare. Suppose also that (2) each person gets diminishing welfare returns to additional amounts of manna: the first pound of manna relieves you from starvation, the second pound is a bit less helpful, and the third pound even less than that. Under premises (1) and (2), it would make no sense to give lots of manna to a few people while others go hungry. Instead, the welfare-maximizing distribution of manna would be one in which each person receives an equal share.

The story of the manna illustrates the elements of a moral argument. One must argue for premises, such as the notion that we should maximize welfare and the notion that each person receives diminishing returns from manna. A debate could happen by challenging some of these premises, such as by arguing that a child might need less manna than a full-grown adult to achieve the same level of welfare. Applying these arguments to present-day inequality is further complicated by the fact that money is earned through work instead of falling freely from the sky. Moral arguments about inequality are important and should be the subject of more thorough treatments in classes on moral and political philosophy.

### Objective claims

While we will refrain from explicit normative arguments, we will produce objective claims about inequality that we or our readers might find normatively troubling. For example, it might be concerning to us that a household at the 90th percentile receives \$14 for every \$1 received by a household at the 10th percentile. People's normative commitments are often bound up in their objective beliefs about the world. Consider a person who believes that high inequality is desirable in order to promote economic growth. This person might be surprised by an objective fact: the countries with high levels of economic inequality are not necessarily the same countries that have high levels of economic output per capita. We will visualize this objective fact in the pages to come.

As a data scientist, your task is to produce statistical summaries that help people better understand the world. As a scholar of inequality, you might hope that your objective evidence will be troubling to people with normative commitments such as beliefs in equality and fairness. But we will focus on making precise objective claims.

## Summary video: What we covered today

{{< video https://www.youtube.com/embed/sN35dvXeNv0 >}}